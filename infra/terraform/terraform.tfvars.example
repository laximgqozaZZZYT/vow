# =================================================================
# VOW Terraform Configuration Example
# =================================================================
# このファイルをコピーして terraform.tfvars または
# terraform.development.tfvars / terraform.production.tfvars を作成してください
#
# 使用方法:
#   cp terraform.tfvars.example terraform.development.tfvars
#   cp terraform.tfvars.example terraform.production.tfvars
#
# シークレットは環境変数で設定することを推奨:
#   export TF_VAR_supabase_url="https://xxx.supabase.co"
#   export TF_VAR_supabase_anon_key="xxx"
#   export TF_VAR_slack_client_id="xxx"
#   export TF_VAR_slack_client_secret="xxx"
#   export TF_VAR_slack_signing_secret="xxx"
#   export TF_VAR_token_encryption_key="xxx"
#   export TF_VAR_github_access_token="xxx"
# =================================================================

# =================================================================
# Basic Configuration
# =================================================================

environment  = "development"  # or "production"
project_name = "vow"
aws_region   = "ap-northeast-1"

# =================================================================
# Network Configuration
# =================================================================

vpc_cidr           = "10.0.0.0/16"
availability_zones = ["ap-northeast-1a", "ap-northeast-1c"]

# =================================================================
# Aurora Serverless v2 Configuration
# =================================================================

enable_aurora       = false  # true if using Aurora instead of Supabase
aurora_min_capacity = 0.5
aurora_max_capacity = 2.0
database_name       = "vow"

# =================================================================
# Lambda Configuration
# =================================================================

lambda_memory_size = 512
lambda_timeout     = 30
lambda_s3_bucket   = "vow-lambda-deployments"
lambda_s3_key      = "development/lambda.zip"  # or "production/lambda.zip"

# Node.js Lambda (Hono)
lambda_nodejs_s3_bucket = "vow-lambda-deployments"
lambda_nodejs_s3_key    = "development/lambda-nodejs.zip"

# =================================================================
# Lambda Environment Variables
# =================================================================

lambda_env_env                = "development"
lambda_env_slack_callback_uri = ""  # Set after API Gateway is created
lambda_env_slack_enabled      = "true"

# =================================================================
# DMS Configuration
# =================================================================

enable_dms = false

# =================================================================
# Supabase Configuration
# =================================================================
# Set via environment variables (TF_VAR_xxx) for security

supabase_url      = ""  # TF_VAR_supabase_url
supabase_anon_key = ""  # TF_VAR_supabase_anon_key

# =================================================================
# Slack Integration
# =================================================================
# Set via environment variables (TF_VAR_xxx) for security

slack_client_id      = ""  # TF_VAR_slack_client_id
slack_client_secret  = ""  # TF_VAR_slack_client_secret
slack_signing_secret = ""  # TF_VAR_slack_signing_secret
token_encryption_key = ""  # TF_VAR_token_encryption_key

# =================================================================
# CORS Configuration
# =================================================================

cors_origins = [
  "http://localhost:3000",
  "https://your-app.amplifyapp.com"
]

frontend_url = "https://your-app.amplifyapp.com"

# =================================================================
# Amplify Configuration
# =================================================================

github_repository_url = "https://github.com/your-org/your-repo"
github_access_token   = ""  # TF_VAR_github_access_token

# =================================================================
# Amplify Environment Variables
# =================================================================

amplify_env_monorepo_app_root               = "frontend"
amplify_env_next_public_api_url             = ""
amplify_env_next_public_site_url            = "https://your-app.amplifyapp.com"
amplify_env_next_public_slack_api_url       = ""
amplify_env_next_public_supabase_url        = ""
amplify_env_next_public_supabase_anon_key   = ""
amplify_env_next_public_use_edge_functions  = "false"
amplify_env_next_public_use_supabase_api    = "true"
amplify_env_next_public_backend_api_url     = ""

# Development branch specific (only for development environment)
amplify_env_dev_next_public_api_url         = ""
amplify_env_dev_next_public_site_url        = ""
amplify_env_dev_next_public_slack_api_url   = ""
amplify_env_dev_next_public_backend_api_url = ""

# =================================================================
# Monitoring Configuration
# =================================================================

alert_email = ""  # Email for CloudWatch alerts (optional)
